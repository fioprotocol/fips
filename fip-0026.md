---
fip: 26
title: FIO Domain Marketplace
status: Draft
type: Functionality
author: Isaiah Williams, Thomas Le - EOS BlockSmith
created: 2021-02-05
updated: 2021-03-06
---

# Abstract
What we are planning to create is a marketplace where users can buy and sell FIO Domains.  Users will interact with the frontend website to view and place domains up for sale.  The frontend will interact with the FIO Escrow Smart Contract to facilitate transactions between users who buy and sell domains.  

Proposed new actions:
|Action|Description|
|---|---|
|listdomain|User puts domain up for sale|
|cxlistdomain|Seller of domain decides not to sell and cancels their listing|
|buydomain|User buys a domain that is up for sale|

# Terminology
* **Listing** - a domain that is up for sale
* **Marketplace** - the frontend website
* **Seller** - the seller of a domain
* **Buyer** - the buyer of a domain

# Motivation
There does not currently exist a platform for buying, selling, and trading FIO Domains.  As the popularity of FIO grows, the likelihood of a desired domain being available decreases.  It is also common for individuals to purchase names of popular name brands in order to later sell the domain to the company who owns the brand (name squatting).  Without a marketplace for domains to be sold, these transactions become difficult.  By providing ease of use solutions to name and address transactions, a marketplace also increases the revenue flow of block producers by increasing the amount of fees generated by each transaction.

# Specification

## Core Concept
Users will interact with the frontend website to view and place domains up for sale.  The frontend will interact with the FIO Escrow Smart Contract to facilitate transactions between users who buy and sell domains.  The diagram below displays how the user, the website, the smart contract and the account that owns the smart contract all work together. 

![Image of UML Diagram](https://github.com/iwill610/FDM_UMLsd/blob/main/FIO%20Domain%20Marketplace.png)

This diagram reads left to right and top to bottom.  There are three different scenarios outlined and they are distinguished by the color of the arrows.  The first scenario, in red, starts will the user using the website to place a domain up for sale for a specified price.  This user is denoted as "seller."  The website then communicates that the smart contract needs to use the "list" action, which will transfer ownership of the address to the contract account and place that address for sale on the website.  

The second scenario, in blue, starts will the seller cancelling their listing on the website.  The website then communicates with the smart contract in order to transfer ownership of the domain back to the seller.  

The last scenario, in green, starts with a different user buying a listing on the website.  This second user is denoted as "buyer."  The website then communicates with the smart contract in order to transfer ownership of the address to the buyer and transfer the funds used to buy the domain to the seller. 

## New actions
### List Domain for Sale
This action will post the domain up for sale on the marketplace for a specified price. 
#### New action: *listdomain*
#### New fee: listingfee - 5% of listdomprice with a minimum of twice the transfer_fio_domain fee

#### Request
|Parameter|Required|Format|Definition|
|---|---|---|---|
|listdomprice|Yes|Positive Int|The amount of SUFs for which the seller wants to sell their domain|
|fio_public_key|Yes|FIO Public Key|Valid FIO Public Key of the seller|
|fio_domain|Yes|FIO Domain|Valid and unexpired FIO Domain|
|actor|Yes|12 character string|Valid actor of signer (seller)|
|minfee|Yes|Positive Int|The minimum amount of SUFs the seller has to pay in order to list their domaain for sale on the marketplace|


##### Example
```
{
	"listdomprice": 20000000000,
	"fio_public_key": FIO8PRe4WRZJj5mkem6qVGKyvNFgPsNnjNN6kPhh6EaCpzCVin5Jj,
	"fio_domain": "alice",
	"actor": "2odzomo2v4pe",
	"minfee": 1000000
}
```
#### Processing
Work in progress

#### Exception handling
Work in progress

#### Response
Work in progress

##### Example
```
{
	Work in progress
}
```

### Cancel Domain Listing
This action will take the domain off of the marketplace and return ownership of the domain to the seller. 
#### New action: *cxlistdomain*

#### Request
|Parameter|Required|Format|Definition|
|---|---|---|---|
|fio_public_key|Yes|FIO Public Key|Valid FIO Public Key of the person who is trying to cancel the listing|
|fio_domain|Yes|FIO Domain|Valid and unexpired FIO Domain|
|actor|Yes|12 character string|Valid actor of signer (seller)|

##### Example
```
{
	"fio_public_key": FIO8PRe4WRZJj5mkem6qVGKyvNFgPsNnjNN6kPhh6EaCpzCVin5Jj,
	"fio_domain": "alice",
	"actor": "2odzomo2v4pe"
}
```
#### Processing
Work in progress

#### Exception handling
Work in progress

#### Response
Work in progress

##### Example
```
{ 
	Work in progress
}
```

### Buy Domain Listing
This action will post the domain up for sale on the marketplace for a specified price. 
#### New action: *buydomain*
#### New commission: Marketplace Commission - 2.5% of buydomcost, taken from what the seller will receive 

#### Request
Describe what parameters are passed in. Example:
|Parameter|Required|Format|Definition|
|---|---|---|---|
|buydomcost|Yes|Positive Int|The amount of SUFs the buyer inputs to purchase a domain|
|fio_public_key|Yes|FIO Public Key|Valid FIO Public Key of the buyer|
|fio_domain|Yes|FIO Domain|Valid and unexpired FIO Domain|
|actor|Yes|12 character string|Valid actor of signer (buyer)|


##### Example
```
{
	"buydomcost": 20000000000,
	"fio_public_key": FIO8PRe4WRZJj5mkem6qVGKyvNFgPsNnjNN6kPhh6EaCpzCVin5Jj,
	"fio_domain": "alice",
	"actor": "2odzomo2v4pe"
}
```
#### Processing
Work in progress

#### Exception handling
Work in progress

#### Response
Work in progress

##### Example
```
{
	Work in progress
}
```
### Changes to existing actions

# Rationale
* We may not need api end-points for our actions so none are included in this document, as of right now
* TPID will be included as well, but we are still dicussing how this will be implemented
* Any section that is blank will be filled out in the future as we get further along in the process

# Implementation
Work in progress

# Backwards Compatibility
Work in Progress


# Future considerations
* Functionality for addresses
* Seller being able to edit/adjust the price
* Being able to renew a domain upon purchase
* Messaging system
* Notification system – for expiring domains  
* Expiring domain page to see all domains that are about to expire
* For the frontend to facilitate the registering of usernames to domains
* Being able to send an offer to the seller and they can either accept or decline 
* “Willing to sell” designation 
* Being able to send and receive FIO

# Discussion links
* Project Documentation - https://fioprotocol.atlassian.net/l/c/ddpA8xJb
* Fee/Commission Structure Discussion - https://fioprotocol.atlassian.net/l/c/XN5rbhK0
* Marketplace Fee/Commission Documentaion - https://fioprotocol.atlassian.net/l/c/gijgqCkP
